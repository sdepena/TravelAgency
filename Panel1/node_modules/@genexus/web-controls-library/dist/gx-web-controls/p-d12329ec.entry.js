import{r as t,c as i,h as s,g as h}from"./p-b4b65ebe.js";var e;!function(t){t.Running="running",t.Stopped="stopped",t.Reset="reset"}(e||(e={}));const n=class{constructor(s){t(this,s),this.input=i(this,"input",7),this.change=i(this,"change",7),this.end=i(this,"end",7),this.tick=i(this,"tick",7),this.startedTime=0,this.started=!1,this.elapsedTime=0,this.invisibleMode="collapse",this.maxValue=0,this.unit="s",this.interval=1,this.state=e.Stopped,this.value=0}async getNativeInputId(){return this.element}componentWillLoad(){this.elapsedTime=this.value*this.getUnit()}componentDidUnload(){this.stop()}async start(){this.started||(this.started=!0,this.startedTime=Date.now()-this.elapsedTime,this.updateElapsedTime(),this.timer=window.setInterval(()=>{this.updateElapsedTime(),this.maxValue>0&&this.elapsedTime>=this.maxValue*this.getUnit()&&(this.end.emit(),this.stop())},1e3),this.interval>0&&(this.eventTimer=window.setInterval(()=>{this.tickHandler()},this.interval*this.getUnit())))}async stop(){window.clearInterval(this.eventTimer),window.clearInterval(this.timer),this.started=!1,this.startedTime=0}async reset(){this.stop(),this.value=0,this.startedTime=0,this.elapsedTime=0}handleChange(){this.input.emit(),this.change.emit()}tickHandler(){this.tick.emit()}stateChanged(t,i){if(i!==t)switch(t){case e.Running:this.start();break;case e.Stopped:this.stop();break;case e.Reset:this.reset()}}getUnit(){return"s"===this.unit?1e3:1}updateElapsedTime(){this.elapsedTime=Date.now()-this.startedTime,this.value=Math.floor(this.elapsedTime/this.getUnit())}render(){const t=Math.floor(this.elapsedTime/1e3),i=this.maxValue*this.getUnit();return s("span",null,this.elapsedTime>i&&0!==i?this.maxValueText:t)}get element(){return h(this)}static get watchers(){return{value:["handleChange"],state:["stateChanged"]}}};n.style=".gx-line-clamp{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:var(--max-lines);overflow:hidden;max-height:var(--max-height)}.line-measuring{visibility:hidden;position:absolute}gx-chronometer{display:inline}gx-chronometer[hidden]{display:none !important}gx-chronometer[hidden][invisible-mode=keep-space]{display:inline !important;visibility:hidden}";export{n as gx_chronometer}