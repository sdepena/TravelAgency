var __awaiter=this&&this.__awaiter||function(e,t,n,i){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,s){function r(e){try{l(i.next(e))}catch(t){s(t)}}function a(e){try{l(i["throw"](e))}catch(t){s(t)}}function l(e){e.done?n(e.value):o(e.value).then(r,a)}l((i=i.apply(e,t||[])).next())}))};var __generator=this&&this.__generator||function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,o,s,r;return r={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(r[Symbol.iterator]=function(){return this}),r;function a(e){return function(t){return l([e,t])}}function l(r){if(i)throw new TypeError("Generator is already executing.");while(n)try{if(i=1,o&&(s=r[0]&2?o["return"]:r[0]?o["throw"]||((s=o["return"])&&s.call(o),0):o.next)&&!(s=s.call(o,r[1])).done)return s;if(o=0,s)r=[r[0]&2,s.value];switch(r[0]){case 0:case 1:s=r;break;case 4:n.label++;return{value:r[1],done:false};case 5:n.label++;o=r[1];r=[0];continue;case 7:r=n.ops.pop();n.trys.pop();continue;default:if(!(s=n.trys,s=s.length>0&&s[s.length-1])&&(r[0]===6||r[0]===2)){n=0;continue}if(r[0]===3&&(!s||r[1]>s[0]&&r[1]<s[3])){n.label=r[1];break}if(r[0]===6&&n.label<s[1]){n.label=s[1];s=r;break}if(s&&n.label<s[2]){n.label=s[2];n.ops.push(r);break}if(s[2])n.ops.pop();n.trys.pop();continue}r=t.call(e,n)}catch(a){r=[6,a];o=0}finally{i=s=0}if(r[0]&5)throw r[1];return{value:r[0]?r[1]:void 0,done:true}}};System.register(["./p-35f24427.system.js"],(function(e){"use strict";var t,n,i,o;return{setters:[function(e){t=e.h;n=e.r;i=e.c;o=e.g}],execute:function(){var s=0;var r=function(){function e(e){this.component=e;this.options=[];if(!this.selectId&&!this.component.readonly){this.selectId=this.component.element.id?this.component.element.id+"__select":"gx-select-auto-id-"+s++}}e.prototype.updateOptions=function(e){this.options=e};e.prototype.getNativeInputId=function(){return!this.component.readonly?this.selectId:null};e.prototype.getCssClasses=function(){var e=[];if(this.component.readonly){e.push("form-control-plaintext")}else{e.push("custom-select")}if(this.component.cssClass){e.push(this.component.cssClass)}return e.join(" ")};e.prototype.getReadonlyTextContent=function(){var e=this;var t=this.options.filter((function(t){return t.value===e.component.value}));if(t.length>0){return t[0].innerText}return""};e.prototype.getValueFromEvent=function(e){return e.target&&e.target.value};e.prototype.handleChange=function(e){this.component.value=this.getValueFromEvent(e);this.component.input.emit(e)};e.prototype.render=function(){var e=this;if(this.component.readonly){return t("span",{class:this.getCssClasses()},this.getReadonlyTextContent())}else{var n=void 0;var i={"aria-disabled":this.component.disabled?"true":undefined,class:this.getCssClasses(),disabled:this.component.disabled,id:this.selectId,onChange:this.handleChange.bind(this),ref:function(t){t.value=e.component.value}};if(this.component.suggest){n=this.selectId+"__datalist"}return this.component.suggest?[t("gx-bootstrap",null),t("input",{list:n,disabled:this.component.disabled,placeholder:this.component.placeholder,value:this.component.value,onChange:this.handleChange.bind(this)}),t("datalist",{id:n},this.options.map((function(e){var n=e.innerText,i=e.selected,o=e.value,s=e.disabled;return t("option",{disabled:s,selected:i,value:o},n)})))]:[t("gx-bootstrap",null),t("select",Object.assign({},i),this.options.map((function(e){var n=e.innerText,i=e.selected,o=e.value,s=e.disabled;return t("option",{disabled:s,selected:i,value:o},n)})))]}};return e}();var a=e("gx_select",function(){function e(e){n(this,e);this.input=i(this,"input",7);this.options=[];this.invisibleMode="collapse";this.disabled=false;this.renderer=new r(this)}e.prototype.getChildOptions=function(){return Array.from(this.element.querySelectorAll("gx-select-option")).map((function(e){return{disabled:e.disabled,innerText:e.innerText,selected:e.selected,value:e.value}}))};e.prototype.updateOptions=function(e){this.options=e;this.renderer.updateOptions(e)};e.prototype.valueChanged=function(){var e=this;var t=Array.from(this.element.querySelectorAll("gx-select-option"));t.forEach((function(t){if(t.value===e.value){t.selected=true}else{t.selected=false}}));this.updateOptions(t.map((function(e){return{disabled:e.disabled,innerText:e.innerText,selected:e.selected,value:e.value}})));if(this.didLoad){this.input.emit({value:this.value})}};e.prototype.onSelectOptionDidLoad=function(e){var t=e.target;if(this.value){if(this.value===t.value){t.selected=true}else{t.selected=false}}else{if(t.selected){this.value=t.value}}this.updateOptions(this.getChildOptions())};e.prototype.onSelectOptionDidUnload=function(){this.updateOptions(this.getChildOptions())};e.prototype.onSelectOptionDisable=function(){this.updateOptions(this.getChildOptions())};e.prototype.onSelectOptionChange=function(){this.updateOptions(this.getChildOptions())};e.prototype.onSelectOptionSelect=function(e){var t=this;this.options.forEach((function(n){if(n===e.target){if(n.value!==t.value){t.value=n.value}}else{n.selected=false}}))};e.prototype.getNativeInputId=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){return[2,this.renderer.getNativeInputId()]}))}))};e.prototype.componentDidLoad=function(){this.didLoad=true};e.prototype.render=function(){return this.renderer.render()};Object.defineProperty(e.prototype,"element",{get:function(){return o(this)},enumerable:false,configurable:true});Object.defineProperty(e,"watchers",{get:function(){return{value:["valueChanged"]}},enumerable:false,configurable:true});return e}())}}}));