import{r as i,h as t,g as e}from"./p-b4b65ebe.js";const s=class{constructor(t){i(this,t),this.enableZoom=!1,this.zoom=100,this.src="",this.mouseOver=!1,this.handleMouseMove=i=>{i.preventDefault(),this.mouseOver=!0,this.zoomedPositionX=this.calculateZoomedPosition(i.offsetX,i.target.offsetWidth),this.zoomedPositionY=this.calculateZoomedPosition(i.offsetY,i.target.offsetHeight)},this.handleTouchMove=i=>{i.preventDefault(),this.mouseOver=!0;const t={height:i.target.offsetHeight,width:i.target.offsetWidth},e={X:i.changedTouches[0].clientX-i.target.x,Y:i.changedTouches[0].clientY-i.target.parentNode.getBoundingClientRect().top};e.X<=0?e.X=0:e.X>=t.width&&(e.X=t.width),e.Y<=0?e.Y=0:e.Y>=t.height&&(e.Y=t.height);const s={X:this.calculateZoomTouch(this.calculateZoomedPosition(e.X,i.target.offsetWidth),this.zoom),Y:this.calculateZoomTouch(this.calculateZoomedPosition(e.Y,t.height),this.zoom)};this.zoomedPositionX=s.X,this.zoomedPositionY=s.Y},this.handleOverEnd=()=>{this.mouseOver=!1}}calculateZoomedPosition(i,t){return-(i-50*t/100)*(this.zoom/100-1)}calculateZoomTouch(i,t){return i/(t/100)}checkZoomFeature(){if(this.enableZoom){const i=this.element.querySelector("img");i.addEventListener("mousemove",this.handleMouseMove),i.addEventListener("touchmove",this.handleTouchMove),i.addEventListener("mouseout",this.handleOverEnd),i.addEventListener("touchend",this.handleOverEnd)}else{const i=this.element.querySelector("img");i.removeEventListener("mousemove",this.handleMouseMove),i.removeEventListener("touchmove",this.handleTouchMove),i.removeEventListener("mouseout",this.handleOverEnd),i.removeEventListener("touchend",this.handleOverEnd)}}fixZoomValue(){this.zoom<100&&(console.warn("Zoom value cannot be lower than 100"),this.zoom=100)}componentWillLoad(){this.fixZoomValue()}componentDidLoad(){this.checkZoomFeature()}componentDidUpdate(){this.checkZoomFeature()}render(){return this.fixZoomValue(),t("img",{style:this.mouseOver?{"object-position":`${this.zoomedPositionX}px ${this.zoomedPositionY}px`,transform:`scale(${this.zoom/100})`}:{},src:this.src})}get element(){return e(this)}};s.style=".gx-line-clamp{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:var(--max-lines);overflow:hidden;max-height:var(--max-height)}.line-measuring{visibility:hidden;position:absolute}gx-interactive-image{height:auto;width:auto;display:-ms-flexbox;display:flex;overflow:hidden}gx-interactive-image[hidden]{display:none !important}gx-interactive-image[hidden][invisible-mode=keep-space]{display:-ms-flexbox !important;display:flex !important;visibility:hidden}gx-interactive-image img{height:100%;width:100%}";export{s as gx_interactive_image}