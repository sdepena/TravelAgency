(self.webpackChunktravelagencyangular=self.webpackChunktravelagencyangular||[]).push([[756],{43756:function(t,e,i){"use strict";i.r(e),i.d(e,{gx_chronometer:function(){return n}});var s,a=i(46841);!function(t){t.Running="running",t.Stopped="stopped",t.Reset="reset"}(s||(s={}));const n=class{constructor(t){(0,a.r)(this,t),this.input=(0,a.c)(this,"input",7),this.change=(0,a.c)(this,"change",7),this.end=(0,a.c)(this,"end",7),this.tick=(0,a.c)(this,"tick",7),this.startedTime=0,this.started=!1,this.elapsedTime=0,this.invisibleMode="collapse",this.maxValue=0,this.unit="s",this.interval=1,this.state=s.Stopped,this.value=0}async getNativeInputId(){return this.element}componentWillLoad(){this.elapsedTime=this.value*this.getUnit()}componentDidUnload(){this.stop()}async start(){this.started||(this.started=!0,this.startedTime=Date.now()-this.elapsedTime,this.updateElapsedTime(),this.timer=window.setInterval(()=>{this.updateElapsedTime(),this.maxValue>0&&this.elapsedTime>=this.maxValue*this.getUnit()&&(this.end.emit(),this.stop())},1e3),this.interval>0&&(this.eventTimer=window.setInterval(()=>{this.tickHandler()},this.interval*this.getUnit())))}async stop(){window.clearInterval(this.eventTimer),window.clearInterval(this.timer),this.started=!1,this.startedTime=0}async reset(){this.stop(),this.value=0,this.startedTime=0,this.elapsedTime=0}handleChange(){this.input.emit(),this.change.emit()}tickHandler(){this.tick.emit()}stateChanged(t,e){if(e!==t)switch(t){case s.Running:this.start();break;case s.Stopped:this.stop();break;case s.Reset:this.reset()}}getUnit(){return"s"===this.unit?1e3:1}updateElapsedTime(){this.elapsedTime=Date.now()-this.startedTime,this.value=Math.floor(this.elapsedTime/this.getUnit())}render(){const t=Math.floor(this.elapsedTime/1e3),e=this.maxValue*this.getUnit();return(0,a.h)("span",null,this.elapsedTime>e&&0!==e?this.maxValueText:t)}get element(){return(0,a.g)(this)}static get watchers(){return{value:["handleChange"],state:["stateChanged"]}}};n.style=".gx-line-clamp{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:var(--max-lines);overflow:hidden;max-height:var(--max-height)}.line-measuring{visibility:hidden;position:absolute}gx-chronometer{display:inline}gx-chronometer[hidden]{display:none !important}gx-chronometer[hidden][invisible-mode=keep-space]{display:inline !important;visibility:hidden}"}}]);